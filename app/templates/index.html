{% extends "layout.html" %}

{% block title %}Inicio | Candidatos al Poder Judicial{% endblock %}

{% block content %}

<header class="text-center mb-10">
  <h1 class="text-4xl font-bold text-gray-800">Candidatos al Poder Judicial</h1>
  <p class="text-gray-600 text-lg max-w-2xl mx-auto leading-relaxed">
    Análisis comparativo de las propuestas de Fabrizio Mejía, Viridiana Ríos y Manuel Pedrero
  </p>
  <div class="w-24 h-1 bg-blue-500 mx-auto mt-3 rounded-full"></div>
</header>

<section class="max-w-3xl mx-auto mb-12 space-y-6">
  <h2 class="text-2xl font-semibold">Contexto general</h2>
  <p class="text-justify">
    En 2024, el presidente Andrés Manuel López Obrador propuso una reforma para transformar el proceso de selección
    de integrantes del Poder Judicial de la Federación. Esta reforma busca que los <strong>ministros de la Suprema Corte de Justicia de la Nación (SCJN)</strong>,
    <strong>magistrados</strong>, <strong>jueces</strong> y <strong>consejeros</strong> sean elegidos por <strong>voto popular</strong>.
  </p>
  <ul class="list-disc list-inside text-gray-800">
    <li>Se elegirán los <strong>11 ministros de la SCJN</strong>.</li>
    <li>También se renovarán jueces y magistrados federales.</li>
    <li>La elección se prevé para el <strong>2 de junio de 2025</strong>.</li>
    <li>Los candidatos serían propuestos por los tres poderes.</li>
  </ul>
  <p class="text-justify">
    Esta iniciativa busca <strong>democratizar la justicia</strong>, combatir el nepotismo y acercar el poder judicial a la ciudadanía.
  </p>
</section>

<section class="max-w-3xl mx-auto mb-12">
  <h2 class="text-2xl font-semibold mb-6">Resumen comparativo</h2>
  <p>
    Este análisis muestra a los candidatos y candidatas al Poder Judicial que han sido recomendados por al menos uno de los tres analistas: 
    <strong>Viridiana Ríos</strong>, <strong>Fabrizio Mejía</strong> y <strong>Manuel Pedrero</strong>. 
    La información está agrupada por género y ordenada de acuerdo con el número de analistas que coinciden en su recomendación.
  </p>
  <p class="mt-4">
    De esta forma, es posible identificar qué perfiles concentran mayor consenso, así como observar qué analista(es) respalda(n) cada candidatura.
  </p>

  <h3 class="text-lg font-semibold mt-3 mb-3">Candidatas</h3>
<ul class="space-y-2">
  {% for c in resumen["mujeres"] %}
  <li class="border-l-4 border-blue-500 pl-3">
    <p class="text-base text-gray-800 font-medium">
      {{ c.numero }} {{ c.nombre }}
    </p>
    <p class="text-sm text-gray-600">Analistas: {{ c.analistas | join(', ') }}</p>
  </li>
  {% endfor %}
</ul>

<h3 class="text-lg font-semibold mt-10 mb-3">Candidatos</h3>
<ul class="space-y-2">
  {% for c in resumen["hombres"] %}
  <li class="border-l-4 border-green-500 pl-3">
    <p class="text-base text-gray-800 font-medium">
      {{ c.numero }} {{ c.nombre }}
    </p>
    <p class="text-sm text-gray-600">Analistas: {{ c.analistas | join(', ') }}</p>
  </li>
  {% endfor %}
</ul>

<section class="max-w-3xl mx-auto mt-8 mb-12">
  <h2 class="text-2xl font-semibold mb-6">Detalle por analista</h2>
  <p class="text-sm text-gray-600 mb-6">
    A continuación se presenta el listado de candidatas y candidatos recomendados por cada analista. 
    El resumen de la razón del voto fue generado con apoyo de inteligencia artificial a partir del análisis original.
  </p>

  {% for analista, secciones in data.items() %}
  <details class="mb-6 group">
    <summary class="font-semibold text-lg cursor-pointer text-gray-800 hover:text-blue-600 py-2 border-b border-gray-300">
      {{ analista.capitalize() }}
    </summary>

    <div class="mt-3 space-y-4 pl-2 border-l border-gray-200">
      {% for genero, personas in secciones.items() %}
      <div>
        <h1 class="text-sm font-semibold text-gray-600 mb-1">{{ genero.capitalize() }}</h1>
        <ul class="space-y-2">
          {% for p in personas %}
          <li>
            <div class="flex flex-col text-base text-gray-800 leading-snug">
              <div>
                <span class="font-semibold">{{ p.numero }}</span> {{ p.nombre }}
              </div>
              <p class="text-sm text-gray-700 text-justify pl-4 mt-0.5">
                {{ p.razones }}
              </p>
            </div>
          </li>
          {% endfor %}
        </ul>
        
      </div>
      {% endfor %}
    </div>
  </details>
  {% endfor %}
</section>

<section id="fuentes" class="max-w-3xl mx-auto pt-10">
  <h2 class="text-2xl font-semibold mb-4">Fuentes de información</h2>
  <ul class="list-disc list-inside space-y-2 text-sm leading-relaxed">
    {% for fuente in fuentes %}
    <li>
      <strong>{{ fuente.autor }}</strong>: {{ fuente.descripcion }}
      {% if fuente.enlace %}
      – <a href="{{ fuente.enlace }}" class="text-blue-600 hover:underline" target="_blank">Ver fuente</a>
      {% endif %}
    </li>
    {% endfor %}
  </ul>
  <p class="text-center mt-8">
    <a href="{{ url_for('main.index') }}" class="text-blue-600 hover:underline text-sm">← Volver al inicio</a>
  </p>
</section>

{% endblock %}
