{% extends "layout.html" %}

{% block title %}Inicio | Candidatos al Poder Judicial{% endblock %}

{% block content %}

<header class="text-center mb-10">
  <h1 class="text-4xl font-bold text-gray-800">Candidatos al Poder Judicial</h1>
  <p class="text-gray-600 text-lg max-w-2xl mx-auto leading-relaxed">
    Análisis comparativo de las propuestas de Fabrizio Mejía, Viridiana Ríos y Manuel Pedrero
  </p>
  <div class="w-24 h-1 bg-blue-500 mx-auto mt-3 rounded-full"></div>
</header>

<section class="max-w-3xl mx-auto mb-12 space-y-6">
  <h2 class="text-2xl font-semibold">Contexto general</h2>
  <p class="text-justify">
    En 2024, el presidente Andrés Manuel López Obrador propuso una reforma para transformar el proceso de selección
    de integrantes del Poder Judicial de la Federación. Esta reforma busca que los <strong>ministros de la Suprema Corte de Justicia de la Nación (SCJN)</strong>,
    <strong>magistrados</strong>, <strong>jueces</strong> y <strong>consejeros</strong> sean elegidos por <strong>voto popular</strong>.
  </p>
  <ul class="list-disc list-inside text-gray-800">
    <li>Se elegirán los <strong>11 ministros de la SCJN</strong>.</li>
    <li>También se renovarán jueces y magistrados federales.</li>
    <li>La elección se prevé para el <strong>2 de junio de 2025</strong>.</li>
    <li>Los candidatos serían propuestos por los tres poderes.</li>
  </ul>
  <p class="text-justify">
    Esta iniciativa busca <strong>democratizar la justicia</strong>, combatir el nepotismo y acercar el poder judicial a la ciudadanía.
  </p>
</section>

<section class="max-w-3xl mx-auto mb-12">
  <h2 class="text-2xl font-semibold mb-6">Resumen comparativo</h2>

  <h3 class="text-lg font-semibold mb-3">Candidatas</h3>
  <div class="grid gap-4 sm:grid-cols-2">
    {% for c in resumen["mujeres"] %}
    <article class="p-4 bg-white shadow rounded">
      <p class="font-medium text-base text-gray-800">
        {{ c.numero }} {{ c.nombre }}
      </p>
      <p class="text-sm text-gray-600">Analistas: {{ c.analistas | join(', ') }}</p>
    </article>
    {% endfor %}
  </div>

  <h3 class="text-lg font-semibold mt-10 mb-3">Candidatos</h3>
  <div class="grid gap-4 sm:grid-cols-2">
    {% for c in resumen["hombres"] %}
    <article class="p-4 bg-white shadow rounded">
      <p class="font-medium text-base text-gray-800">
        {{ c.numero }} {{ c.nombre }}
      </p>
      <p class="text-sm text-gray-600">Analistas: {{ c.analistas | join(', ') }}</p>
    </article>
    {% endfor %}
  </div>
</section>

<section class="max-w-3xl mx-auto mb-12">
  <h2 class="text-2xl font-semibold mb-6">Detalle por analista</h2>
  {% for analista, secciones in data.items() %}
  <details class="mb-8 bg-white p-5 rounded shadow group open:shadow-md transition-all">
    <summary class="font-semibold text-lg cursor-pointer text-gray-800 hover:text-blue-600 flex justify-between items-center">
      {{ analista.capitalize() }}
    </summary>
    <div class="mt-4 space-y-6">
      {% for genero, personas in secciones.items() %}
      <div>
        <h4 class="text-md font-medium text-gray-700 mb-2">{{ genero.capitalize() }}</h4>
        {% for p in personas %}
        <article class="p-4 bg-gray-50 rounded mb-4">
          <p class="font-medium text-base text-gray-800">
            {{ p.numero }} {{ p.nombre }}
          </p>
          <!-- Ver razón del voto -->
          <details class="mt-2 text-sm text-gray-700 leading-relaxed">
            <summary class="font-semibold hover:text-blue-600 cursor-pointer">
              Razón del voto
            </summary>
            <div class="mt-2 pl-2 text-justify whitespace-pre-line">
              {{ p.razones }}
            </div>
          </details>
        </article>
        {% endfor %}
      </div>
      {% endfor %}
    </div>
  </details>
  {% endfor %}
</section>

<section id="fuentes" class="max-w-3xl mx-auto pt-10">
  <h2 class="text-2xl font-semibold mb-4">Fuentes de información</h2>
  <ul class="list-disc list-inside space-y-2 text-sm leading-relaxed">
    {% for fuente in fuentes %}
    <li>
      <strong>{{ fuente.autor }}</strong>: {{ fuente.descripcion }}
      {% if fuente.enlace %}
      – <a href="{{ fuente.enlace }}" class="text-blue-600 hover:underline" target="_blank">Ver fuente</a>
      {% endif %}
    </li>
    {% endfor %}
  </ul>
  <p class="text-center mt-8">
    <a href="{{ url_for('main.index') }}" class="text-blue-600 hover:underline text-sm">← Volver al inicio</a>
  </p>
</section>

{% endblock %}
