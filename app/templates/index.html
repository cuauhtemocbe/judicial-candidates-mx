{% extends "layout.html" %}

{% block title %}Inicio | Candidatos al Poder Judicial{% endblock %}

{% block content %}

<section class="max-w-3xl mx-auto mb-10 space-y-6 text-gray-800 text-justify">
  <h2 class="text-3xl font-bold text-center">Participa en la elección del Poder Judicial</h2>
  <div class="w-24 h-1 mx-auto rounded-full mb-2"></div>
  <p>
    Este 2025 marca un hecho sin precedentes: la ciudadanía podrá votar por quienes ocuparán cargos clave en el Poder
    Judicial. La votación será el <strong>próximo domingo 1 de junio de 2025</strong>.
  </p>

  <p>
    Recibirás <strong>seis boletas</strong>, cada una con un color distinto según el cargo a elegir:
  </p>

  <ul class="list-disc list-inside space-y-1">
    <li>🟪 <strong>Boleta morada</strong>: 5 Ministras y 4 Ministros de la SCJN</li>
    <li>🟩 <strong>Boleta verde menta</strong>: 3 Magistradas y 2 Magistrados del TDJ</li>
    <li>🔵 <strong>Boleta azul</strong>: 1 Magistrada y 1 Magistrado de la Sala Superior del TEPJF</li>
    <li>🟧 <strong>Boleta salmón</strong>: 3 Magistraturas por cada una de las 5 Salas Regionales del TEPJF</li>
    <li>🟨 <strong>Boleta amarilla</strong>: Juezas y Jueces de distrito</li>
    <li>🌸 <strong>Boleta rosa</strong>: Magistradas y Magistrados de circuito</li>
  </ul>

  <p>
    En esta página comparto mi análisis y los perfiles por los que votaré.<br>
    Actualmente puedes consultar las candidaturas de las boletas <strong>morada</strong>, <strong>verde</strong> y
    <strong>azul</strong>. <br>
    También hay una lista negra <strong>🛑 lista negra</strong> de perfiles a evitar.
  </p>
</section>

<section class="max-w-3xl mx-auto mb-10">
  <h2 id="purple-ballot" class="text-2xl font-semibold text-gray-800">
    <span class="text-purple-700">Boleta Morada: </span>Candidatos a la Suprema Corte de Justicia
  </h2>
  <p>
    Este análisis muestra a los candidatos y candidatas al Poder Judicial que han sido recomendados por al menos uno de
    los tres analistas:
    <strong>Viridiana Ríos</strong>, <strong>Fabrizio Mejía</strong> y <strong>Manuel Pedrero</strong>.
    La información está agrupada por género y ordenada de acuerdo con el número de analistas que coinciden en su
    recomendación.
  </p>
  <p class="mt-4">
    De esta forma, es posible identificar qué perfiles concentran mayor consenso, así como observar qué analista(es)
    respalda(n) cada candidatura.
  </p>

  <h3 class="text-lg font-semibold mt-2 mb-2">Candidatas</h3>
  <ul class="space-y-3">
    {% for c in resumen["mujeres"] %}
    <li class="border-l-4 border-purple-500 pl-3">
      <div class="flex items-center justify-between">
        <button class="text-left focus:outline-none group" onclick="
        document.getElementById('detalle-mujer-{{ loop.index }}').classList.toggle('hidden');
        document.getElementById('icon-mujer-{{ loop.index }}').classList.toggle('rotate-180');
      ">
          <span class="text-base font-semibold text-gray-900">{{ c.numero }}</span>
          <span class="text-base font-semibold text-gray-700"> {{ c.nombre }}</span>
        </button>
        <svg id="icon-mujer-{{ loop.index }}" class="w-4 h-4 text-gray-500 transition-transform duration-200"
          fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
        </svg>
      </div>

      <!-- SIEMPRE VISIBLE -->
      <p class="text-sm text-gray-600 mb-1">Analistas: {{ c.analistas | join(', ') }}</p>

      <!-- DETALLE OCULTO -->
      <div id="detalle-mujer-{{ loop.index }}" class="hidden mt-2">
        {% for analista in c.analistas %}
        <div class="ml-4 mt-1">
          <p class="text-sm font-semibold text-gray-600">Análisis {{ analista }}:</p>
          <p class="text-sm text-gray-700 text-justify">{{ c.detalle[analista] }}</p>
        </div>
        {% endfor %}
      </div>
    </li>
    {% endfor %}
  </ul>

  <h3 class="text-lg font-semibold mt-8 mb-2">Candidatos</h3>
  <ul class="space-y-3">
    {% for c in resumen["hombres"] %}
    <li class="border-l-4 border-violet-500 pl-3">
      <div class="flex items-center justify-between">
        <button class="text-left focus:outline-none group" onclick="
        document.getElementById('detalle-hombre-{{ loop.index }}').classList.toggle('hidden');
        document.getElementById('icon-hombre-{{ loop.index }}').classList.toggle('rotate-180');
      ">
          <span class="text-base font-semibold text-gray-900">{{ c.numero }}</span>
          <span class="text-base font-semibold text-gray-700"> {{ c.nombre }}</span>
        </button>
        <svg id="icon-hombre-{{ loop.index }}" class="w-4 h-4 text-gray-500 transition-transform duration-200"
          fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
        </svg>
      </div>

      <!-- SIEMPRE VISIBLE -->
      <p class="text-sm text-gray-600 mb-1">Analistas: {{ c.analistas | join(', ') }}</p>

      <!-- DETALLE OCULTO -->
      <div id="detalle-hombre-{{ loop.index }}" class="hidden mt-2">
        {% for analista in c.analistas %}
        <div class="ml-4 mt-1">
          <p class="text-sm font-semibold text-gray-600">Análisis {{ analista }}:</p>
          <p class="text-sm text-gray-700 text-justify">{{ c.detalle[analista] }}</p>
        </div>
        {% endfor %}
      </div>
    </li>
    {% endfor %}
  </ul>

  <section id="fuentes" class="max-w-3xl mx-auto pt-4">
    <h2 class="text-2xl font-semibold mb-4">Fuentes de información</h2>
    <ul class="list-disc list-inside space-y-2 text-sm leading-relaxed">
      {% for fuente in fuentes %}
      <li>
        <strong>{{ fuente.autor }}</strong>: {{ fuente.descripcion }}
        {% if fuente.enlace %}
        – <a href="{{ fuente.enlace }}" class="text-blue-600 hover:underline" target="_blank">Ver fuente</a>
        {% endif %}
      </li>
      {% endfor %}
    </ul>
    <p class="text-center mt-8">
      <a href="{{ url_for('main.index') }}" class="text-blue-600 hover:underline text-sm">← Volver al inicio</a>
    </p>
  </section>

  {% endblock %}