{% extends "layout.html" %}

{% block title %}Inicio | Candidatos al Poder Judicial{% endblock %}

{% block content %}

<header class="text-center space-y-3">
  <h1 class="text-4xl font-bold text-gray-800">Candidatos al Poder Judicial</h1>
  <p class="text-gray-600 text-lg max-w-2xl mx-auto">Análisis comparativo de las propuestas de Fabrizio Mejía, Viridiana Ríos y Manuel Pedrero</p>
</header>

<section class="bg-gray-50 border border-gray-200 rounded-xl p-6 shadow-sm prose prose-gray max-w-none">
  <h2 class="text-2xl font-semibold">Contexto general</h2>
  <p>
    En 2024, el presidente Andrés Manuel López Obrador propuso una reforma para transformar el proceso de selección
    de integrantes del Poder Judicial de la Federación. Esta reforma busca que los <strong>ministros de la Suprema Corte de Justicia de la Nación (SCJN)</strong>,
    <strong>magistrados</strong>, <strong>jueces</strong> y <strong>consejeros</strong> sean elegidos por <strong>voto popular</strong>.
  </p>
  <ul>
    <li>Se elegirán los <strong>11 ministros de la SCJN</strong>.</li>
    <li>También se renovarán jueces y magistrados federales.</li>
    <li>La elección se prevé para el <strong>2 de junio de 2025</strong>, junto con las elecciones federales.</li>
    <li>Los candidatos serían propuestos por los tres poderes: Ejecutivo, Legislativo y Judicial.</li>
  </ul>
  <p>
    Esta iniciativa busca <strong>democratizar la justicia</strong>, combatir el nepotismo y acercar el poder judicial a la ciudadanía.
  </p>
</section>

<section>
  <h2 class="text-2xl font-semibold mb-6">Resumen comparativo</h2>

  <div class="mb-10">
    <h3 class="text-xl font-medium mb-3">Candidatas</h3>
    <div class="overflow-x-auto rounded-lg border">
      <table class="min-w-full text-sm text-left bg-white">
        <thead class="bg-gray-100 text-gray-700 uppercase tracking-wider">
          <tr>
            <th class="px-4 py-2">Número</th>
            <th class="px-4 py-2">Nombre</th>
            <th class="px-4 py-2">Analistas</th>
          </tr>
        </thead>
        <tbody class="divide-y">
          {% for c in resumen["mujeres"] %}
          <tr class="hover:bg-gray-50 transition">
            <td class="px-4 py-2">{{ c.numero }}</td>
            <td class="px-4 py-2">{{ c.nombre }}</td>
            <td class="px-4 py-2">{{ c.analistas | join(', ') }}</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>

  <div>
    <h3 class="text-xl font-medium mb-3">Candidatos</h3>
    <div class="overflow-x-auto rounded-lg border">
      <table class="min-w-full text-sm text-left bg-white">
        <thead class="bg-gray-100 text-gray-700 uppercase tracking-wider">
          <tr>
            <th class="px-4 py-2">Número</th>
            <th class="px-4 py-2">Nombre</th>
            <th class="px-4 py-2">Analistas</th>
          </tr>
        </thead>
        <tbody class="divide-y">
          {% for c in resumen["hombres"] %}
          <tr class="hover:bg-gray-50 transition">
            <td class="px-4 py-2">{{ c.numero }}</td>
            <td class="px-4 py-2">{{ c.nombre }}</td>
            <td class="px-4 py-2">{{ c.analistas | join(', ') }}</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>
</section>

<section>
  <h2 class="text-2xl font-semibold mb-6">Detalle por analista</h2>
  {% for analista, secciones in data.items() %}
  <details class="mb-6 bg-gray-50 rounded-lg p-5 shadow-md open:shadow-lg transition-all duration-300">
    <summary class="font-semibold text-lg cursor-pointer select-none text-gray-800 hover:text-blue-600 transition">
      {{ analista.capitalize() }}
    </summary>
    <div class="mt-4 space-y-4">
      {% for genero, personas in secciones.items() %}
      <div>
        <h4 class="text-md font-medium mb-2 text-gray-700">{{ genero.capitalize() }}</h4>
        <div class="overflow-x-auto rounded-md border">
          <table class="min-w-full text-sm text-left bg-white">
            <thead class="bg-gray-100 text-gray-700">
              <tr>
                <th class="px-4 py-2">Número</th>
                <th class="px-4 py-2">Nombre</th>
                <th class="px-4 py-2">Razones</th>
              </tr>
            </thead>
            <tbody class="divide-y">
              {% for p in personas %}
              <tr class="hover:bg-gray-50 transition">
                <td class="px-4 py-2">{{ p.numero }}</td>
                <td class="px-4 py-2">{{ p.nombre }}</td>
                <td class="px-4 py-2">{{ p.razones }}</td>
              </tr>
              {% endfor %}
            </tbody>
          </table>
        </div>
      </div>
      {% endfor %}
    </div>
  </details>
  {% endfor %}
</section>

<section id="fuentes" class="pt-10 border-t">
  <h2 class="text-2xl font-semibold mb-4">Fuentes de información</h2>
  <ul class="list-disc list-inside space-y-2 text-sm text-gray-800">
    {% for fuente in fuentes %}
    <li>
      <strong>{{ fuente.autor }}</strong>: {{ fuente.descripcion }}
      {% if fuente.enlace %}
      – <a href="{{ fuente.enlace }}" class="text-blue-600 hover:underline" target="_blank">Ver fuente</a>
      {% endif %}
    </li>
    {% endfor %}
  </ul>
  <div class="text-center mt-8">
    <a href="{{ url_for('main.index') }}" class="text-blue-600 hover:underline text-sm">← Volver al inicio</a>
  </div>
</section>

{% endblock %}