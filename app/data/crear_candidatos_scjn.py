if __name__ == "__main__":
    analistas_data = {
        "Viri Ríos": {
            "mujeres": [
                {
                    "numero": "06",
                    "nombre": "Selene Cruz Alcalá",
                    "razones": "Con más de dos décadas de experiencia en el ámbito laboral, ha sido una defensora incansable de los derechos de los trabajadores. Como magistrada y extitular de la Procuraduría Federal de la Defensa del Trabajo, logró reducir el rezago de casos y mejorar el acceso a la justicia laboral. Propone una 'justicia de barandilla', sin burocracia, directa y empática, que escuche a las personas. Su visión es progresista, con enfoque de género, justicia transformadora y combate a la corrupción. Se presenta como una voz independiente y comprometida con quienes han sido históricamente marginados.",
                },
                {
                    "numero": "31",
                    "nombre": "Natalia Téllez Torres Orozco",
                    "razones": "Magistrada experta en litigios fiscales y combate a la evasión por parte de grandes corporaciones, con una sólida carrera judicial y respaldo técnico desde el SAT. Plantea una Corte que garantice justicia material y no solo formal, enfocada en eliminar desigualdades estructurales. Promueve un sistema judicial accesible, sin tecnicismos, imparcial y con perspectiva de derechos humanos. Defiende un Poder Judicial transparente, sin nepotismo ni corrupción, donde la ley sirva para proteger a los sectores históricamente excluidos.",
                },
                {
                    "numero": "01",
                    "nombre": "Olivia Aguirre Bonilla",
                    "razones": "Académica con doctorado en derechos humanos, con una campaña basada en el mérito y sin apoyos políticos. Propone una Corte comprometida con la igualdad y la justicia social desde una perspectiva humanista. Cree que el derecho debe apoyarse en el conocimiento científico, reconociendo que no todos los conflictos pueden resolverse solo con normas jurídicas. Su compromiso es con una impartición de justicia honesta, ética y fundamentada en principios de imparcialidad, independencia y corrección. Es una voz fresca que busca acercar la justicia a toda la ciudadanía, especialmente a quienes han sido ignorados por el sistema.",
                },
                {
                    "numero": "05",
                    "nombre": "Marisol Castañeda Pérez",
                    "razones": "Magistrada de circuito con trayectoria judicial sólida y formación doctoral, promueve una visión integral de justicia con ética, sensibilidad social y enfoque en los derechos fundamentales. Se declara representante de quienes no son escuchados, y propone decisiones judiciales que reflejen el contexto humano y social de cada caso. Defiende una Corte accesible, transparente y comprometida con la equidad sustantiva, donde la verdad fáctica y la legal coincidan. Apuesta por un Poder Judicial que escuche, comprenda y resuelva con empatía y responsabilidad.",
                },
                {
                    "numero": "13",
                    "nombre": "Alma Delia González Centeno",
                    "razones": "Magistrada con experiencia estatal y visión reformista. Propone una innovadora certificación obligatoria cada cuatro años para ministras y ministros de la Corte, como mecanismo de rendición de cuentas y evaluación de desempeño. Defiende una justicia transparente, rápida, imparcial y sensible a las circunstancias individuales de cada persona. Su propuesta busca recuperar la confianza de la ciudadanía en el sistema judicial mediante controles internos efectivos, lucha frontal contra la corrupción y enfoque en derechos humanos como eje central de la actuación judicial.",
                },
            ],
            "hombres": [
                {
                    "numero": "40",
                    "nombre": "Isaac De Paz González",
                    "razones": "Académico con doctorado en derechos fundamentales, propone una nueva era de justicia social desde la Corte. Enfatiza la protección de los derechos de las personas más vulnerables, incluyendo pensiones, vivienda y pueblos originarios. Busca una justicia estructural con precedentes que impacten también en la justicia local. Defiende un modelo pedagógico, transparente y dialógico para transformar el Poder Judicial, y aboga por un nuevo perfil judicial enfocado en la vocación social más que en la burocracia.",
                },
                {
                    "numero": "57",
                    "nombre": "Carlos Enrique Odriozola Mariscal",
                    "razones": "Abogado de la sociedad civil con más de 30 años defendiendo derechos humanos ante la SCJN. Ha logrado sentencias clave en temas de discriminación y justicia laboral. Plantea una justicia real, no servil al poder ni a las élites, con enfoque reparador. Propone vigilancia y denuncia activa contra la corrupción en el Poder Judicial, integración diversa en su equipo de trabajo, y criterios judiciales para ejecutar sentencias con eficacia y abatir la impunidad en todos los niveles.",
                },
                {
                    "numero": "38",
                    "nombre": "Edgar Corzo Sosa",
                    "razones": "Académico y jurista con experiencia internacional en derechos humanos y migración. Propone una Suprema Corte itinerante que se acerque a las personas y conozca la realidad desde el territorio. Defiende el humanismo constitucional como eje de la justicia, promueve sentencias sensibles a la realidad social y aboga por juzgadores comprometidos con una verdadera justicia social. Su visión destaca por la sensibilidad, cercanía y compromiso con poblaciones marginadas.",
                },
                {
                    "numero": "55",
                    "nombre": "Sergio Javier Molina Martínez",
                    "razones": "Consejero de la Judicatura con trayectoria en justicia laboral. Se presenta como una voz cercana al pueblo, comprometido con una justicia clara, efectiva y desformalizada. Critica los privilegios del sistema actual y propone resoluciones accesibles, con especial atención a grupos vulnerables. Su visión busca cerrar la brecha entre el derecho formal y la realidad social, con una Corte que realmente escuche y atienda a todos los sectores.",
                },
                {
                    "numero": "42",
                    "nombre": "Raymundo Espinoza Hernández",
                    "razones": "Abogado ambientalista y exfuncionario del CONACYT, promueve una Corte al servicio de la justicia social y ambiental. Plantea un modelo judicial centrado en el impacto humano y colectivo de las decisiones, con transparencia, fortalecimiento de la defensoría pública y educación jurídica con enfoque crítico. Aboga por resolver desde la SCJN temas que afectan a comunidades vulnerables y derechos colectivos, con una visión soberana, inclusiva y democratizadora.",
                },
            ],
        },
        "Fabrizio Mejía": {
            "mujeres": [
                {
                    "numero": "03",
                    "nombre": "Lenia Batres Guadarrama",
                    "razones": "Actual ministra de la Suprema Corte. Militante de izquierda con trayectoria desde el CEU y la democratización del D.F. Ha acompañado luchas sociales y jurídicas relevantes en el país. Se opuso a maniobras de Norma Piña. Defensora de comunidades indígenas. Considerada la ministra más cercana a los intereses de la nación.",
                },
                {
                    "numero": "26",
                    "nombre": "María Estela Ríos González",
                    "razones": "Consejera jurídica de AMLO en la CDMX y en la Presidencia. Abogada laboral desde los años 70, defensora de sindicatos y trabajadores. Participó en la defensa de obreras maquiladoras y los Acuerdos de San Andrés. Comprometida con las causas obreras y sociales.",
                },
                {
                    "numero": "31",
                    "nombre": "Natalia Téllez Torres Orozco",
                    "razones": "Jurídica de Raquel Buenrostro. Combatió la evasión fiscal de grandes empresas. Luchó contra factureras y empresas fantasma. Clave en la obtención de recursos para programas sociales.",
                },
                {
                    "numero": "22",
                    "nombre": "Loretta Ortiz Ahlf",
                    "razones": "Ministra de la Suprema Corte. Defensora de causas nacionales junto con Lenia Batres. Voto otorgado por su consistencia en temas de interés público y social.",
                },
            ],
            "hombres": [
                {
                    "numero": "36",
                    "nombre": "Federico Anaya Gallardo",
                    "razones": "Abogado de comunidades indígenas en Chiapas. Fue parte del Centro Fray Bartolomé de las Casas y la diócesis de San Cristóbal. Coautor de los derechos de los pueblos originarios en CDMX. Intelectual respetado, con gran conocimiento en derecho, cine, antropología y literatura. Considerado un defensor de la inteligencia y el interés general.",
                },
                {
                    "numero": "42",
                    "nombre": "Raymundo Espinoza Hernández",
                    "razones": "Abogado del CONACYT en la lucha contra fideicomisos privatizadores. Diseñador de la nueva ley de humanidades, ciencia y tecnología. Asesor del Tribunal Internacional de los Pueblos. Defensor de los derechos sociales.",
                },
                {
                    "numero": "41",
                    "nombre": "Irving Espinoza Betanzo",
                    "razones": "Asesor de Ernestina Godoy y colaborador en el gobierno de Claudia Sheinbaum. Impulsó planes de austeridad, transparencia y defensa de derechos humanos en CDMX. Participó en el caso contra el fiscal de Morelos por encubrimiento de feminicidio.",
                },
                {
                    "numero": "34",
                    "nombre": "Hugo Aguilar Ortiz",
                    "razones": "Coordinador general de derechos indígenas en el INPI. Abogado oaxaqueño defensor de territorios indígenas. Protector de radios comunitarias durante la Ley Televisa.",
                },
                {
                    "numero": "28",
                    "nombre": "Miguel Ángel de los Santos Cruz",
                    "razones": "Experto en derechos humanos en Chiapas. Dirige la Facultad de Derecho en la UNACH. Hombre incorruptible, propuesto para el Tribunal de Disciplina.",
                },
            ],
        },
        "Manuel Pedrero": {
            "mujeres": [
                {
                    "numero": "03",
                    "nombre": "Lenia Batres Guadarrama",
                    "razones": "Consecuente, joven, símbolo de renovación, ha votado en favor del pueblo.",
                },
                {
                    "numero": "08",
                    "nombre": "Yasmín Esquivel",
                    "razones": "A pesar de polémicas, se prefiere evitar la fragmentación del voto que daría paso a peores perfiles.",
                },
                {
                    "numero": "22",
                    "nombre": "Loretta Ortiz Ahlf",
                    "razones": "Misma razón que Yasmín: evitar que entren perfiles más cuestionables como Maricela Morales o Suema Mosri.",
                },
                {
                    "numero": "26",
                    "nombre": "María Estela Ríos González",
                    "razones": "Fue consejera jurídica de AMLO, abogada de confianza, perfil vinculado a la 4T.",
                },
                {
                    "numero": "31",
                    "nombre": "Natalia Téllez Torres Orozco",
                    "razones": "Perfil limpio, magistrada laboral pro-trabajadores, avalada por Raquel Buenrostro.",
                },
            ],
            "hombres": [
                {
                    "numero": "34",
                    "nombre": "Hugo Aguilar Ortiz",
                    "razones": "Representante indígena, oaxaqueño, sin escándalos, perfil limpio.",
                },
                {
                    "numero": "36",
                    "nombre": "Federico Anaya Gallardo",
                    "razones": "Defensor de derechos humanos en Chiapas, ideología clara de izquierda.",
                },
                {
                    "numero": "40",
                    "nombre": "Isaac De Paz González",
                    "razones": "Catedrático del norte del país, académico, campaña austera.",
                },
                {
                    "numero": "49",
                    "nombre": "César Gutiérrez Priego",
                    "razones": "Abogado penalista, cercano al pueblo, perfil reivindicativo por la historia de su padre, oposición a regímenes autoritarios.",
                },
            ],
        },
    }

    import json
    from collections import defaultdict

    candidatos_scjn = {"mujeres": [], "hombres": []}
    index = {"mujeres": {}, "hombres": {}}

    for analista, genero_dict in analistas_data.items():
        for genero, lista_candidatos in genero_dict.items():
            for candidato in lista_candidatos:
                key = (candidato["numero"], candidato["nombre"])
                if key not in index[genero]:
                    index[genero][key] = {
                        "numero": candidato["numero"],
                        "nombre": candidato["nombre"],
                        "analistas": [],
                        "detalle": {}
                    }
                    candidatos_scjn[genero].append(index[genero][key])
                index[genero][key]["analistas"].append(analista)
                index[genero][key]["detalle"][analista] = candidato["razones"]

    # Ordenar por número de analistas (de mayor a menor)
    for genero in ["mujeres", "hombres"]:
        candidatos_scjn[genero].sort(key=lambda x: len(x["analistas"]), reverse=True)

    # Guardar en archivo JSON
    with open("candidatos_scjn.json", "w", encoding="utf-8") as f:
        json.dump(candidatos_scjn, f, ensure_ascii=False, indent=2)

    print("Archivo 'candidatos_scjn.json' guardado exitosamente y ordenado por número de analistas.")